---
description: 缓存击穿是什么？如何解决？
---

# 缓存击穿如何解决？

## 缓存击穿

### 问题

![](../../.gitbook/assets/image%20%2854%29.png)

超级热点数据的key突然过期，导致对该数据的**大并发**请求在失效后直接打到数据库，导致其压力过大而崩掉。

缓存击穿这里强调的是**并发**，造成缓存击穿的原因有以下两个：

1. 该数据没有人查询过 ，第一次就大并发的访问（冷门数据）；
2. Redis中的这条数据刚好失效，大并发访问（热点数据）。

### 解决方法

#### 热点数据不过期

设置超级热点数据的key永不过期

#### 加互斥锁

当用户出现**大并发**访问时，在查询缓存的时候和查询数据库的过程加锁，只能第一个进来的请求进行执行，当第一个请求把该数据放进缓存中，接下来的访问就会直接集中访问缓存。

缺点：慎用，如果使用要注意锁的性能和稳定性。

## Reference

1. [https://blog.csdn.net/qq\_43255017/article/details/108396782](https://blog.csdn.net/qq_43255017/article/details/108396782)
2. [https://zhuanlan.zhihu.com/p/353644479](https://zhuanlan.zhihu.com/p/353644479)

